#!/usr/bin/env python3\n\"\"\"\né¡¹ç›®çŠ¶æ€æ£€æŸ¥è„šæœ¬\n\"\"\"\n\nimport os\nfrom pathlib import Path\n\ndef check_project_structure():\n    \"\"\"æ£€æŸ¥é¡¹ç›®ç»“æ„\"\"\"\n    print(\"=\" * 60)\n    print(\"é‡åŒ–æŠ•èµ„ç ”ç©¶æ¡†æ¶ - é¡¹ç›®çŠ¶æ€æ£€æŸ¥\")\n    print(\"=\" * 60)\n    \n    # æ£€æŸ¥æ ¸å¿ƒç›®å½•\n    core_dirs = [\n        'quant_framework',\n        'quant_framework/core',\n        'quant_framework/data',\n        'quant_framework/services',\n        'quant_framework/backtest',\n        'quant_framework/trading',\n        'quant_framework/jqdata',\n        'quant_framework/performance',\n        'quant_framework/monitoring',\n        'tests',\n        'tests/unit',\n        'tests/integration',\n        'tests/system',\n        'tests/performance',\n        'docs',\n        'scripts',\n        'k8s',\n        'migrations'\n    ]\n    \n    print(\"\\nğŸ“ æ ¸å¿ƒç›®å½•ç»“æ„æ£€æŸ¥:\")\n    existing_dirs = 0\n    for dir_path in core_dirs:\n        if Path(dir_path).exists():\n            print(f\"  âœ… {dir_path}\")\n            existing_dirs += 1\n        else:\n            print(f\"  âŒ {dir_path}\")\n    \n    print(f\"\\nç›®å½•å®Œæ•´æ€§: {existing_dirs}/{len(core_dirs)} ({existing_dirs/len(core_dirs)*100:.1f}%)\")\n    \n    # æ£€æŸ¥å…³é”®æ–‡ä»¶\n    key_files = [\n        'README.md',\n        'requirements.txt',\n        'Dockerfile',\n        'docker-compose.yml',\n        'Makefile',\n        '.github/workflows/ci.yml',\n        'docs/user_guide.md',\n        'docs/developer_guide.md',\n        'docs/api_documentation.md',\n        'scripts/deploy.sh',\n        'scripts/health_check.py'\n    ]\n    \n    print(\"\\nğŸ“„ å…³é”®æ–‡ä»¶æ£€æŸ¥:\")\n    existing_files = 0\n    for file_path in key_files:\n        if Path(file_path).exists():\n            print(f\"  âœ… {file_path}\")\n            existing_files += 1\n        else:\n            print(f\"  âŒ {file_path}\")\n    \n    print(f\"\\næ–‡ä»¶å®Œæ•´æ€§: {existing_files}/{len(key_files)} ({existing_files/len(key_files)*100:.1f}%)\")\n    \n    # æ£€æŸ¥Pythonæ¨¡å—\n    python_modules = [\n        'quant_framework/__init__.py',\n        'quant_framework/core/__init__.py',\n        'quant_framework/services/strategy_service.py',\n        'quant_framework/services/backtest_service.py',\n        'quant_framework/services/data_service.py',\n        'quant_framework/jqdata/api.py',\n        'quant_framework/performance/cache.py',\n        'quant_framework/performance/query_optimizer.py'\n    ]\n    \n    print(\"\\nğŸ Pythonæ¨¡å—æ£€æŸ¥:\")\n    existing_modules = 0\n    for module_path in python_modules:\n        if Path(module_path).exists():\n            print(f\"  âœ… {module_path}\")\n            existing_modules += 1\n        else:\n            print(f\"  âŒ {module_path}\")\n    \n    print(f\"\\næ¨¡å—å®Œæ•´æ€§: {existing_modules}/{len(python_modules)} ({existing_modules/len(python_modules)*100:.1f}%)\")\n    \n    # æ€»ä½“è¯„ä¼°\n    total_items = len(core_dirs) + len(key_files) + len(python_modules)\n    total_existing = existing_dirs + existing_files + existing_modules\n    overall_completeness = (total_existing / total_items) * 100\n    \n    print(\"\\n\" + \"=\" * 60)\n    print(\"ğŸ“Š é¡¹ç›®å®Œæ•´æ€§æ€»ç»“\")\n    print(\"=\" * 60)\n    print(f\"æ€»æ£€æŸ¥é¡¹: {total_items}\")\n    print(f\"å·²å®Œæˆé¡¹: {total_existing}\")\n    print(f\"å®Œæ•´æ€§: {overall_completeness:.1f}%\")\n    \n    if overall_completeness >= 90:\n        print(\"\\nğŸ‰ é¡¹ç›®ç»“æ„å®Œæ•´ï¼Œå¯ä»¥è¿›è¡Œéƒ¨ç½²ï¼\")\n        status = \"READY\"\n    elif overall_completeness >= 70:\n        print(\"\\nâš ï¸  é¡¹ç›®åŸºæœ¬å®Œæ•´ï¼Œå»ºè®®è¡¥å……ç¼ºå¤±é¡¹åéƒ¨ç½²\")\n        status = \"MOSTLY_READY\"\n    else:\n        print(\"\\nâŒ é¡¹ç›®ç»“æ„ä¸å®Œæ•´ï¼Œéœ€è¦ç»§ç»­å¼€å‘\")\n        status = \"NOT_READY\"\n    \n    print(\"=\" * 60)\n    \n    return {\n        'status': status,\n        'completeness': overall_completeness,\n        'existing_dirs': existing_dirs,\n        'existing_files': existing_files,\n        'existing_modules': existing_modules\n    }\n\ndef generate_next_steps(status_info):\n    \"\"\"ç”Ÿæˆä¸‹ä¸€æ­¥å»ºè®®\"\"\"\n    print(\"\\nğŸš€ ä¸‹ä¸€æ­¥å»ºè®®:\")\n    \n    if status_info['status'] == 'READY':\n        print(\"\"\"\n1. ç«‹å³è¡ŒåŠ¨é¡¹:\n   âœ… è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶\n   âœ… è®¾ç½®ç”Ÿäº§ç¯å¢ƒ\n   âœ… é…ç½®ç›‘æ§ç³»ç»Ÿ\n   âœ… å‡†å¤‡ç”¨æˆ·åŸ¹è®­\n\n2. éƒ¨ç½²å‡†å¤‡:\n   ğŸ“‹ é…ç½®ç¯å¢ƒå˜é‡\n   ğŸ“‹ è®¾ç½®æ•°æ®åº“è¿æ¥\n   ğŸ“‹ é…ç½®SSLè¯ä¹¦\n   ğŸ“‹ éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ\n\n3. ç”¨æˆ·å‡†å¤‡:\n   ğŸ‘¥ å‡†å¤‡æ¼”ç¤ºæ•°æ®\n   ğŸ‘¥ ç¼–å†™æ“ä½œæ‰‹å†Œ\n   ğŸ‘¥ å½•åˆ¶åŸ¹è®­è§†é¢‘\n   ğŸ‘¥ ç»„ç»‡ç”¨æˆ·åŸ¹è®­\n\"\"\")\n    \n    elif status_info['status'] == 'MOSTLY_READY':\n        print(\"\"\"\n1. è¡¥å……ç¼ºå¤±é¡¹:\n   ğŸ”§ æ£€æŸ¥å¹¶è¡¥å……ç¼ºå¤±çš„æ–‡ä»¶\n   ğŸ”§ å®Œå–„æ–‡æ¡£\n   ğŸ”§ è¡¥å……æµ‹è¯•ç”¨ä¾‹\n\n2. è´¨é‡ä¿è¯:\n   ğŸ§ª è¿è¡Œç°æœ‰æµ‹è¯•\n   ğŸ§ª ä¿®å¤å‘ç°çš„é—®é¢˜\n   ğŸ§ª è¿›è¡Œä»£ç å®¡æŸ¥\n\n3. å‡†å¤‡éƒ¨ç½²:\n   ğŸ“¦ å‡†å¤‡éƒ¨ç½²è„šæœ¬\n   ğŸ“¦ é…ç½®ç¯å¢ƒ\n   ğŸ“¦ æµ‹è¯•éƒ¨ç½²æµç¨‹\n\"\"\")\n    \n    else:\n        print(\"\"\"\n1. ç»§ç»­å¼€å‘:\n   ğŸ’» å®Œæˆæ ¸å¿ƒåŠŸèƒ½å¼€å‘\n   ğŸ’» è¡¥å……ç¼ºå¤±çš„æ¨¡å—\n   ğŸ’» ç¼–å†™æµ‹è¯•ç”¨ä¾‹\n\n2. è´¨é‡æå‡:\n   ğŸ“ å®Œå–„æ–‡æ¡£\n   ğŸ“ ä»£ç é‡æ„\n   ğŸ“ æ€§èƒ½ä¼˜åŒ–\n\n3. æµ‹è¯•éªŒè¯:\n   ğŸ” å•å…ƒæµ‹è¯•\n   ğŸ” é›†æˆæµ‹è¯•\n   ğŸ” ç³»ç»Ÿæµ‹è¯•\n\"\"\")\n\nif __name__ == \"__main__\":\n    try:\n        status_info = check_project_structure()\n        generate_next_steps(status_info)\n        \n        # ç”ŸæˆçŠ¶æ€æŠ¥å‘Šæ–‡ä»¶\n        with open('project_status_report.txt', 'w', encoding='utf-8') as f:\n            f.write(f\"é¡¹ç›®çŠ¶æ€æŠ¥å‘Š\\n\")\n            f.write(f\"ç”Ÿæˆæ—¶é—´: {Path().cwd()}\\n\")\n            f.write(f\"å®Œæ•´æ€§: {status_info['completeness']:.1f}%\\n\")\n            f.write(f\"çŠ¶æ€: {status_info['status']}\\n\")\n        \n        print(f\"\\nğŸ“„ çŠ¶æ€æŠ¥å‘Šå·²ä¿å­˜åˆ°: project_status_report.txt\")\n        \n    except Exception as e:\n        print(f\"æ£€æŸ¥è¿‡ç¨‹ä¸­å‡ºé”™: {e}\")\n